<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>quix</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    <link rel="stylesheet" href="/assets/css/signup.css">
</head>
<body>

   
    

<div class="content">
    
    <div class="text">New Password</div>
   
    <div id="messageContainer" class="message-container">
        <% 
            if (typeof errorMessage !== 'undefined') {
                %>
                <p><%= errorMessage %></p>
                <%
            }
        %>
        <% 
            if (typeof message !== 'undefined') {
                %>
                <p><%= message %></p>
                <%
            }
        %>
    </div>

    <form action="/admin-reset-password" method="POST" onsubmit="return validateForm()">
        <div class="field">
            <input type="hidden" name="email" value="<%= email %>">
            <input type="password" id="newPassword" name="newPassword" required>
                <span class="fas fa-lock"></span>
                <label for="newPassword">Password</label>
                
                
               
        </div>
        <div class="field">
            <input type="password" id="newnewPassword" name="newnewPassword" required>
                <span class="fas fa-lock"></span>
                <label for="newnewPassword">Enter again</label>

        </div>

        <button type="submit">Reset Password</button>

       
    </form>


  







</div>





<script>
    function validateForm() {
    document.getElementById('messageContainer').innerHTML = '';
    
    const password = document.getElementById('newPassword').value;
    const againPass = document.getElementById('newnewPassword').value;

    // Validate password: minimum length is 6 characters
    if (password.length < 6 || !/[a-zA-Z]/.test(password) || !/[^\w]/.test(password)) {
        displayErrorMessage('Password must be at least 6 characters and contain at least one letter and one character');
        return false;
    }

    if (password !== againPass) {
        displayErrorMessage('Passwords do not match');
        return false;
    }

    return true;
}

function displayErrorMessage(message) {
    const messageContainer = document.getElementById('messageContainer');
    messageContainer.innerHTML = `<p>${message}</p>`;
}
</script>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>


</body>
</html>